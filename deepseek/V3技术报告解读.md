# V3 技术报告解读

R1脱胎于V3，V3作为一个MoE模型有大量的创新技术，我们逐步的进行解读

## V3的总体介绍

### 总结
![V3技术总结](https://github.com/xiangyuliu/material_arrangement/blob/local_edit_20250206/sources/image/Deepseek%20v3%E6%8A%80%E6%9C%AF%E6%8A%A5%E5%91%8A%E6%A0%B8%E5%BF%83%E8%A7%A3%E8%AF%BB%E4%B8%80.png)

### 高效的训练技术
![高效的训练技术](https://github.com/xiangyuliu/material_arrangement/blob/local_edit_20250206/sources/image/%E9%AB%98%E6%95%88%E8%AE%AD%E7%BB%83%E6%80%BB%E4%BD%93%E6%8A%80%E6%9C%AF%E8%B4%A1%E7%8C%AE.png)

### 训练流程
![训练流程](https://github.com/xiangyuliu/material_arrangement/blob/local_edit_20250206/sources/image/%E8%AE%AD%E7%BB%83%E6%B5%81%E7%A8%8B.png)

### 推理性能支撑
![推理性能支撑](https://github.com/xiangyuliu/material_arrangement/blob/local_edit_20250206/sources/image/%E9%AB%98%E6%95%88%E6%8E%A8%E7%90%86%E5%BA%95%E5%B1%82%E6%8A%80%E6%9C%AF%E6%94%AF%E6%92%91%E6%A0%B8%E5%BF%83%E8%A6%81%E7%B4%A0.png)


## V3训练效率和performance提升的关键

**我们知道MoE架构的router的负载是一个非常核心的技术，负载不均衡会导致训练的失败，那么通常的方法是引入辅助函数，但是辅助函数往往又会影响效率，这是一个进退两难的问题。Deepseek成功的使用了无辅助训练的方式，即保持了负载的平衡又解决了性能的问题。**

### 有辅助GShard技术
**GShard是谷歌发布的一个MoE训练技术，通过双层辅助控制有效解决了负载问题。介绍V3的无辅助之前，我们先看下有辅助的技术**

![GShard总体介绍](https://github.com/xiangyuliu/material_arrangement/blob/local_edit_20250206/sources/image/gshard%E6%80%BB%E4%BD%93%E4%BB%8B%E7%BB%8D.png)


![GShard结束细节](https://github.com/xiangyuliu/material_arrangement/blob/local_edit_20250206/sources/image/Gshard%E7%BB%86%E8%8A%82.png)


![Gshard优势](https://github.com/xiangyuliu/material_arrangement/blob/local_edit_20250206/sources/image/Gshard%E7%9B%B8%E5%AF%B9%E4%BA%8Etopk%E7%9A%84%E5%AF%B9%E6%AF%94.png)




