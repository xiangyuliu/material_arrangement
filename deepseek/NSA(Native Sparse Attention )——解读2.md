# NSA(Native Sparse Attention )——解读2

## 关于Attention

![NSA-关于Attention机制.png](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/54Lq36KYwZjXn7Ed/img/f31077f1-2aab-4e5d-9702-a8623a8cda86.png)

_**PS：图片来自「量子位」**_

## NSA总体框架

## ![NSA-总体框架.png](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/54Lq36KYwZjXn7Ed/img/316b4e24-eb07-48ba-b23f-663d528269dc.png?x-oss-process=image/crop,x_0,y_0,w_2515,h_3114/ignore-error,1)

## NSA-压缩

![NSA-token压缩.png](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/54Lq36KYwZjXn7Ed/img/7fb1ab8e-b58c-479a-8bf7-ba9d2e00c38b.png)

## NSA-token选择

![NSA-token选择.png](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/54Lq36KYwZjXn7Ed/img/95be0410-46e1-4de6-ae5e-07370707eb04.png)

## NSA-滑动窗口

![NSA-滑动窗口.png](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/54Lq36KYwZjXn7Ed/img/12a551c2-75a2-4379-8752-74083d5e8667.png)

## NSA-算子优化

![NSA-kernel设计.png](https://alidocs.oss-cn-zhangjiakou.aliyuncs.com/res/54Lq36KYwZjXn7Ed/img/14eb406b-d65a-4007-b6e6-6b1993898c8e.png)